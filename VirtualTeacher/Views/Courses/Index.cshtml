@model List<Course>

@{
    ViewData["Title"] = "Course";
}
<style scoped>
    .courses_details_info {
        padding-top: 100px;
        padding-bottom: 0px;
    }

    .container {
        width: 100%;
        padding-right: 15px;
        padding-left: 15px;
        margin-right: auto;
        margin-left: auto;
    }


    @@media (min-width: 576px) {
        .container {
            max-width: 540px;
        }
    }

    @@media (min-width: 768px) {
        .container {
            max-width: 720px;
        }
    }

    @@media (min-width: 992px) {
        .container {
            max-width: 960px;
        }

        @@media (min-width: 1200px) {
            .container {
                max-width: 1140px;
            }
        }

        @@media (min-width: 1400px) {
            .container {
                max-width: 1320px;
            }
        }

        .container-fluid {
            width: 100%;
            padding-right: 15px;
            padding-left: 15px;
            margin-right: auto;
            margin-left: auto;
        }
    }

    .popular_courses.plus_padding {
        padding-top: 50px;
        padding-bottom: 50px;
    }

    .breadcam_bg {
        background-image: linear-gradient(to top, #2e1753, #1f1746, #131537, #0d1028, #050819);
    }
    /* .overlay2::before {
            background-color: none;
        } */
   
    .star {
        position: absolute;
        width: 2px;
        height: 2px;
        background: #fff;
        right: 0;
        animation: starTwinkle 3s infinite linear;
        max-width: 100%;
        overflow-x: hidden;
    }

    .star-container {
        /* position: absolute; */
        width: 100%;
        height: 500px;
        background-image: linear-gradient(to top, #2e1753, #1f1746, #131537, #0d1028, #050819);        
        max-width: 100%;
        margin-bottom: 20px;
        /* overflow-x: hidden; */
    }

    .astronaut img {
        width: 100px;
        position: absolute;
        top: 55%;
        animation: astronautFly 6s infinite linear;
    }

    @@keyframes astronautFly {
        0% {
            left: -100px;
        }

        25% {
            top: 50%;
            transform: rotate(30deg);
        }

        50% {
            transform: rotate(45deg);
            top: 55%;
        }

        75% {
            top: 60%;
            transform: rotate(30deg);
        }

        100% {
            left: 110%;
            transform: rotate(45deg);
        }
    }

    @@keyframes starTwinkle {
        0% {
            background: rgba(255,255,255,0.4);
        }

        25% {
            background: rgba(255,255,255,0.8);
        }

        50% {
            background: rgba(255,255,255,1);
        }

        75% {
            background: rgba(255,255,255,0.8);
        }

        100% {
            background: rgba(255,255,255,0.4);
        }
    }

</style>
@* <div class="astronaut">
    <img src="https://images.vexels.com/media/users/3/152639/isolated/preview/506b575739e90613428cdb399175e2c8-space-astronaut-cartoon-by-vexels.png" alt="" class="src">
</div> *@

<!-- bradcam_area_start -->

@* <div class="bradcam_area breadcam_bg overlay2"> *@
<div class=star-container>
    <div style="background-image: url('/img/astronaut.webp'); height: 300px; width: 580px; "></div>
   @*  <p>Our Courses</p> *@
</div>

<!-- bradcam_area_end -->
<!-- popular_courses_start -->
<div class="popular_courses plus_padding">
    <div class="container">
        <div class="row">
            <div class="col-xl-12">
                <div class="course_nav">
                    <nav>
                        <ul class="nav" id="myTab" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" id="All Courses" data-toggle="tab" href="#All Courses" role="tab"
                                   aria-controls="home" aria-selected="true">All Courses</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-topic-id="1" data-toggle="tab" href="#Talk Around the World" role="tab" aria-controls="profile" aria-selected="false">Talk Around the World</a>
                            </li>

                            @* <li class="nav-item">
                                <a class="nav-link" id="Talk Around the World" data-toggle="tab" href="#Talk Around the World" role="tab"
                                   aria-controls="profile" aria-selected="false">Talk Around the World</a>
                            </li> *@
                            <li class="nav-item">
                                <a class="nav-link" id="Space Exploration" data-toggle="tab" href="#Space Explorationt" role="tab"
                                   aria-controls="contact" aria-selected="false">Space Exploration</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="Math Magic" data-toggle="tab" href="#Math Magic" role="tab"
                                   aria-controls="design" aria-selected="false">Math Magic</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="Art and Creativity" data-toggle="tab" href="#Art and Creativity" role="tab"
                                   aria-controls="design" aria-selected="false">Art and Creativity</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="Music and Movement" data-toggle="tab" href="#Music and Movement" role="tab"
                                   aria-controls="design" aria-selected="false">Music and Movement</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="Storytelling and Writing" data-toggle="tab" href="#Storytelling and Writing" role="tab"
                                   aria-controls="design" aria-selected="false">Storytelling and Writing</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="Emotional Intelligence" data-toggle="tab" href="#Emotional Intelligence" role="tab"
                                   aria-controls="design" aria-selected="false">Emotional Intelligence</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>

    </div>
    <div class="all_courses">
        <div class="container">
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" role="tabpanel">
                    <div class="row">
                        @foreach (var course in Model
                        .OrderByDescending(x => x.Ratings.Any() ? x.Ratings.Average(r => r.RatingValue) : 0)
                        .Take(9))
                        {
                            <div class="col-xl-4 col-lg-4 col-md-6">
                                <div class="single_courses">
                                    <div class="thumb">
                                        <a href="#">
                                            <img src="/img/back-to-school.jpg" alt="course-img">
                                        </a>
                                    </div>
                                    <div class="courses_info">
                                        <h3><a asp-controller="Courses" asp-action="Details" asp-route-id="@course.Id" style="font-size: 20px;">@course.Title</a></h3>
                                        <div class="single_video" style="color: black; font-size: 20px;">
                                            <i class="far fa-play-circle"></i> <span>@course.Lectures.Count() Video lessons</span>
                                        </div>
                                        <div style="margin-bottom: 10px">
                                            @{
                                                var averageRating = course.Ratings.Any() ? course.Ratings.Average(x => x.RatingValue) : 0.0;
                                                var fullStars1 = Math.Floor(averageRating);
                                                var halfStar = Math.Round(averageRating % 1, 1) >= 0.5;
                                                var emptyStars = course.Ratings.Any() ? 5 - (int)fullStars1 - (halfStar ? 1 : 0) : 5;
                                            }

                                            @for (int i = 0; i < fullStars1; i++)
                                            {
                                                <i class="fas fa-star" style="color: gold;"></i> <!-- Full stars -->
                                            }
                                            @if (halfStar && course.Ratings.Any())
                                            {
                                                <i class="fas fa-star-half-alt" style="color: gold;"></i> <!-- Half star -->
                                            }
                                            @for (int i = 0; i < emptyStars; i++)
                                            {
                                                <i class="far fa-star" style="color: gold;"></i> <!-- Empty stars -->
                                            }

                                            <span>@(course.Ratings.Any() ? averageRating.ToString("0.0") : "N/A")</span>
                                        </div>
                                        <div class="star_prise d-flex justify-content-between">
                                            Teacher - @course.Creator.FirstName @course.Creator.LastName
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- popular_courses_end-->
<!-- testimonial_area_start -->
<div class="testimonial_area testimonial_bg_1 overlay">
    <div class="testmonial_active owl-carousel">
        <div class="single_testmoial">
            <div class="container">
                <div class="row">
                    <div class="col-xl-12">
                        <div class="testmonial_text text-center">
                            <div class="author_img">
                                <img src="img/testmonial/author_img.png" alt="">
                            </div>
                            <p>
                                "Working in conjunction with humanitarian aid <br> agencies we have supported
                                programmes to <br>
                                alleviate.
                                human suffering.

                            </p>
                            <span>- Jquileen</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="single_testmoial">
            <div class="container">
                <div class="row">
                    <div class="col-xl-12">
                        <div class="testmonial_text text-center">
                            <div class="author_img">
                                <img src="img/testmonial/author_img.png" alt="">
                            </div>
                            <p>
                                "Working in conjunction with humanitarian aid <br> agencies we have supported
                                programmes to <br>
                                alleviate.
                                human suffering.

                            </p>
                            <span>- Jquileen</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- testimonial_area_end -->



